<mat-grid-list cols="1">

<mat-button-toggle-group style="margin: 2%;" value="selected">
    <mat-button-toggle value="selected" *ngIf="cardView"> Cards </mat-button-toggle>
    <mat-button-toggle value="cards"*ngIf="!cardView" (click)="switchView()"> Cards </mat-button-toggle>
    <mat-button-toggle value="selected" *ngIf="!cardView"> List </mat-button-toggle>
    <mat-button-toggle value="list" *ngIf="cardView" (click)="switchView()"> List </mat-button-toggle>
</mat-button-toggle-group>

</mat-grid-list>
<mat-spinner class="loader" *ngIf="!response"></mat-spinner>
<mat-grid-list cols="4" rowHeight="1:2.5" *ngIf="response && cardView" class="card-grid">
<!-- <mat-grid-list [cols]="breakpoint" rowHeight="35%" (window:resize)="onResize($event)"> -->


        <mat-card *ngFor="let result of response.movieList" class="card" >

            <img mat-card-image [src]="result.poster" class="card-poster">

            <mat-card-header>
                <mat-card-title class="card-title">
                    <b> {{result.title}} </b>
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <mat-card-content class="card-text">
                    {{result.plot}}
                </mat-card-content>
            </mat-card-content>

            <mat-card-actions>
                <button
                mat-stroked-button
                color="primary"
                class="mat-button"
                (click)="openMovieDetails(result.imdbid)"
              >
                More Details
              </button>
              </mat-card-actions>

        </mat-card>


    <!-- <mat-paginator
    [length]="(response.maxPageNumber * 10)"
    [pageSize]="10">
    </mat-paginator> -->



</mat-grid-list>

<table mat-table [dataSource]="movies" *ngIf="response && !cardView">

    <!-- Title Column -->
    <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let movie"> {{movie.title}} </td>
    </ng-container>

    <!-- Plot Column -->
    <ng-container matColumnDef="plot">
        <th mat-header-cell *matHeaderCellDef> Plot </th>
        <td mat-cell *matCellDef="let movie"> {{movie.plot}} </td>
    </ng-container>

    <!-- Writer Column -->
    <ng-container matColumnDef="writer">
        <th mat-header-cell *matHeaderCellDef> Writer </th>
        <td mat-cell *matCellDef="let movie"> {{movie.writer}} </td>
    </ng-container>

    <!-- IMDB Rating Column -->
    <ng-container matColumnDef="imdbrating">
        <th mat-header-cell *matHeaderCellDef> IMDB Rating </th>
        <td mat-cell *matCellDef="let movie"> {{movie.imdbrating}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
     <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<section class="pageButton">
<mat-button-toggle-group value="current" style="margin: 3%;">
    <mat-button-toggle value="more-next" *ngIf="page-1<=0" disabled="true">«</mat-button-toggle>
    <mat-button-toggle value="more-next" *ngIf="page-1>0" (click)="navigatePage(page-1)">«</mat-button-toggle>
    <mat-button-toggle value="more-previous" *ngIf="page-2>0" (click)="navigatePage(page-2)">{{page-2}}</mat-button-toggle>
    <mat-button-toggle value="previous" *ngIf="page-1>0" (click)="navigatePage(page-1)">{{page-1}}</mat-button-toggle>

    <mat-button-toggle value="current" disabled="true">{{page}}</mat-button-toggle>

    <mat-button-toggle value="next" *ngIf="page+1<=maxPage" (click)="navigatePage(page+1)">{{page+1}}</mat-button-toggle>
    <mat-button-toggle value="more-next" *ngIf="page+2<=maxPage" (click)="navigatePage(page+2)">{{page+2}}</mat-button-toggle>
    <mat-button-toggle value="more-next" *ngIf="page+1<=maxPage" (click)="navigatePage(page+1)">»</mat-button-toggle>
    <mat-button-toggle value="more-next" *ngIf="page+1>maxPage" disabled="true">»</mat-button-toggle>
</mat-button-toggle-group>
</section>
